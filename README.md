# Telegram-–±–æ—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ (Meta-Prompt Optimizer Bot)

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è LLM —Å –ø–æ–º–æ—â—å—é meta-prompting, –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å backend-–º–æ–¥–µ–ª—å (Gemini –∏–ª–∏ DeepSeek), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π meta-–ø—Ä–æ–º–ø—Ç –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å A/B-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω–æ–π temperature.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ú® **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é meta-prompting
- üîÑ **–í—ã–±–æ—Ä LLM** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Google Gemini –∏ DeepSeek API
- üß™ **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω–æ–π temperature (0.2 –∏ 0.7)
- ‚öôÔ∏è **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ meta-–ø—Ä–æ–º–ø—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üìä **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞** - –∞–Ω–∞–ª–∏–∑ –¥–ª–∏–Ω—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–º–ø—Ç–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Python 3.10+
- aiogram 3.x (async Telegram Bot API)
- Google Gemini API
- DeepSeek API (OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
- SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
cp .env.example .env
```

4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª —Å–≤–æ–∏–º–∏ API –∫–ª—é—á–∞–º–∏:
   - **TELEGRAM_BOT_TOKEN** - –ø–æ–ª—É—á–∏—Ç–µ —É [@BotFather](https://t.me/BotFather) –≤ Telegram
   - (–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å) **GEMINI_API_KEY** - –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ [Google AI Studio](https://makersuite.google.com/app/apikey)
   - **DEEPSEEK_API_KEY** - –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ [DeepSeek Platform](https://platform.deepseek.com/)

   –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ API –∫–ª—é—á–µ–π, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä.

## –ó–∞–ø—É—Å–∫

```bash
python -m bot.main
```

–∏–ª–∏

```bash
python bot/main.py
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–π –ø—Ä–æ–º–ø—Ç –±–æ—Ç—É - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ–≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/settings` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - –í—ã–±–æ—Ä LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Gemini –∏–ª–∏ DeepSeek)
   - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ meta-–ø—Ä–æ–º–ø—Ç–∞
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (system prompt)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
prompt-optimizer/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sqlite_manager.py   # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ llm_client.py       # –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è LLM API
‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ commands.py         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ       ‚îú‚îÄ‚îÄ callbacks.py        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback queries
‚îÇ       ‚îî‚îÄ‚îÄ keyboards.py        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ .env.example                # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ start.md                    # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/settings` - –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫





